(()=>{var n={840:n=>{function e(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}var r=function(){function n(e,r){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.partner1=e,this.partner2=r}var r,t;return r=n,(t=[{key:"getPartner",value:function(n){return this.partner1===n?this.partner2:this.partner1}}])&&e(r.prototype,t),n}();n.exports=r},746:n=>{function e(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}var r=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.members=[],this.connections=[],this.marriageNodeIds=[]}var r,t;return r=n,(t=[{key:"addFamilyMember",value:function(n){this.members.push(n)}},{key:"setFamilyMembers",value:function(n){this.members=n}},{key:"addConnection",value:function(n){this.connections.push(n)}}])&&e(r.prototype,t),n}();n.exports=r},486:(n,e,r)=>{var t=r(746),o=r(741),i=r(840);function a(n,e){return n.id<e.id?-1:n.id>e.id?1:0}n.exports=function(n){var e,r=new t,c=n,s=function(n){var e=n.sort(a),r=[];return e.forEach((function(n){r.push(new o(n.id,n.name,n.gender))})),r}(c.persons);return r.setFamilyMembers(s),e=r,c.connections.forEach((function(n){var r=e.members[n.partner1Id],t=e.members[n.partner2Id],o=new i(r,t);r.connection=o,t.connection=o;var a=[];n.childrenIds.forEach((function(n){var r=e.members[n];a.push(r),r.setParentConnection(o)})),o.children=a,e.addConnection(o)})),r}},741:n=>{function e(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}var r=function(){function n(e,r,t){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.connection=void 0,this.parentConnection=void 0,this.id=e,this.name=r,this.gender=t}var r,t;return r=n,(t=[{key:"setConnection",value:function(n){this.connection=n}},{key:"setParentConnection",value:function(n){this.parentConnection=n}}])&&e(r.prototype,t),n}();n.exports=r},262:n=>{function e(n){var r,t,o,i,a=function(n){return{name:n.name,class:n.gender,extra:{id:n.id}}}(n);if(void 0!==n.connection){var c=(i=function(n){var e=n.gender;return void 0!==n.parentConnection&&(e+="-alternativeRoot"),e}(o=function(n){return n.connection.getPartner(n)}(n)),{name:o.name,class:i,extra:{id:o.id}}),s=[];n.connection.children.forEach((function(n){var r=e(n);s.push(r)})),r=c,t=s,a.marriages=[{spouse:r,children:t}]}return a}n.exports=function(n,r){for(var t=r,o=!1,i=n.members[r];!o;)void 0!==i.parentConnection?i=i.parentConnection.partner1:(o=!0,t=i.id);return[e(n.members[t])]}},851:(n,e,r)=>{var t,o,i=r(486),a=r(262);n.exports=function(n,e){var r=o;return n!==t&&(r=i(n),t=n,o=r),a(r,e)}}},e={};!function r(t){if(e[t])return e[t].exports;var o=e[t]={exports:{}};return n[t](o,o.exports,r),o.exports}(851)})();